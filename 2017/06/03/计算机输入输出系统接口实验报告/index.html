<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="SEU Linux Club"><title>计算机输入输出系统接口实验报告 · 东南大学Linux俱乐部</title><meta name="description" content="实验一    环境熟悉与I/O地址译码一、实验目的​    掌握I/O地址译码电路的工作原理。
二、实验内容
连接AD4~AD9等几根线，使得138译码器Y0#~Y7#译码出的地址依次分别是Y0#：200H~20FH; Y1#：210H~21FH；……；Y7#：270h~27FH
利用Source-"><meta name="keywords" content="Linux &amp; More"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div id="stage" class="container"><div class="row"><div id="side-bar" class="col-sm-3 col-xs-12 side-container invisible"><div class="vertical-text site-title"><h3 tabindex="-1" class="site-title-small"><a href="/" class="a-title">Club Blog</a></h3><h1 tabindex="-1" class="site-title-large"><a href="/" class="a-title">SEU LINUX Blog</a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div id="site-nav" class="site-title-links"><ul><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li><li><a href="/tags">标签</a></li><li class="soc"><a href="https://github.com/SEULinuxClub" target="_blank" rel="noopener noreferrer"><i class="fa fa-github">&nbsp;</i></a><a href="http://SEULinuxClub.github.io/atom.xml" target="_blank" rel="noopener noreferrer"><i class="fa fa-rss">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2018&nbsp;<a target="_blank" href="http://SEULinuxClub.github.io" rel="noopener noreferrer">SEU Linux Club</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div><div id="main-container" class="col-sm-9 col-xs-12 main-container invisible"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a>计算机输入输出系统接口实验报告</a></p><p class="post-meta"><span class="date meta-item">发布于&nbsp;2017-06-03</span><span class="meta-item"><i class="fa fa-tag"></i><span>&nbsp;</span><a href="/tags/IO/" title="IO" class="a-tag">IO</a><span>&nbsp;</span></span></p><p class="post-abstract"><h1 id="实验一-环境熟悉与I-O地址译码"><a href="#实验一-环境熟悉与I-O地址译码" class="headerlink" title="实验一    环境熟悉与I/O地址译码"></a>实验一    环境熟悉与I/O地址译码</h1><h2 id="一、实验目的"><a href="#一、实验目的" class="headerlink" title="一、实验目的"></a>一、实验目的</h2><p>​    掌握I/O地址译码电路的工作原理。</p>
<h2 id="二、实验内容"><a href="#二、实验内容" class="headerlink" title="二、实验内容"></a>二、实验内容</h2><ol>
<li>连接AD4~AD9等几根线，使得138译码器Y0#~Y7#译码出的地址依次分别是Y0#：200H~20FH; Y1#：210H~21FH；……；Y7#：270h~27FH</li>
<li>利用Source-&gt;Add/Remove Source files中添加源程序EX-138.ASM（在实验包中已提供），该程序向240H端口写任意数据。如果是第一次运行，Source Code Filename这一项选New来调入源程序。</li>
<li>在Source菜单下点击“Build All”，汇编源代码（全部编译）；执行程序，查看Y0~Y7中是否Y4#脚输出为有效（管脚出的有颜色的小方块为红色是高电平，蓝色为低电平）.</li>
<li>改变程序中的输出地址，使得Y0#, Y1#,Y6#,Y7#分别有效。</li>
<li>改变A9~A3的接线方法，从而得到Y0；388H~38FH；Y1：398H～39FH; ……；Y7：3F8H~3FFH。并修改上一问的程序，以同样使得Y4#有效。</li>
</ol>
<h3 id="1）源程序"><a href="#1）源程序" class="headerlink" title="1）源程序"></a>1）源程序</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.8086</span><br><span class="line">.MODEL SMALL</span><br><span class="line">.STACK</span><br><span class="line">.DATA</span><br><span class="line">	ADDRESS  WORD 3C8H; 此值会变</span><br><span class="line">.CODE</span><br><span class="line">START:</span><br><span class="line">    MOV AX,@DATA</span><br><span class="line">    MOV DS,AX</span><br><span class="line">    MOV DX,ADDRESS</span><br><span class="line">    MOV AL,0</span><br><span class="line">    OUT DX,AL</span><br><span class="line">    JMP $</span><br><span class="line">END START</span><br></pre></td></tr></table></figure>
<h3 id="2）电路原理图（138译码部分）"><a href="#2）电路原理图（138译码部分）" class="headerlink" title="2）电路原理图（138译码部分）"></a>2）电路原理图（138译码部分）</h3><h4 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h4><p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/1.0.1.png" alt=""></p>
<h4 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h4><p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/1.0.2.png" alt=""></p>
<h3 id="3）运行结果贴图（138译码及上面两个273的输出）"><a href="#3）运行结果贴图（138译码及上面两个273的输出）" class="headerlink" title="3）运行结果贴图（138译码及上面两个273的输出）"></a>3）运行结果贴图（138译码及上面两个273的输出）</h3><p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/1.1.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/1.2.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/1.3.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/1.4.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/1.5.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/1.6.png" alt=""></p>
<h1 id="实验二-可编程中断控制器8259"><a href="#实验二-可编程中断控制器8259" class="headerlink" title="实验二    可编程中断控制器8259"></a>实验二    可编程中断控制器8259</h1><h2 id="一、实验目的-1"><a href="#一、实验目的-1" class="headerlink" title="一、实验目的"></a>一、实验目的</h2><p>1． 掌握8259的基本工作原理和编程方法。</p>
<p>2． 深入了解中断的概念和实地址模式下中断处理程序的编写方法。</p>
<h2 id="二、实验内容-1"><a href="#二、实验内容-1" class="headerlink" title="二、实验内容"></a>二、实验内容</h2><p>​    将接口实验包中所带的EX-8259.DSN文件用ISIS 7打开。按手册接线并执行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">.MODEL SMALL</span><br><span class="line">.8086</span><br><span class="line">.stack</span><br><span class="line">.data</span><br><span class="line">come byte 00000000B   ; 计算中断到来次数的变量</span><br><span class="line">.code</span><br><span class="line">start:</span><br><span class="line">    mov ax,@data</span><br><span class="line">    mov ds,ax</span><br><span class="line">    cli</span><br><span class="line">    mov ax,0        ; init interrupt vector TABLE</span><br><span class="line">    mov es,ax</span><br><span class="line">    mov si,0         ; 由于模拟器的错误，所有中断向量需要指向同一个地址</span><br><span class="line">    mov cx,255</span><br><span class="line">l:  mov ax,offset int0</span><br><span class="line">    mov es:[si],ax</span><br><span class="line">    mov ax,seg int0</span><br><span class="line">    mov es:[si+2],ax</span><br><span class="line">    add si,4</span><br><span class="line">    loop l</span><br><span class="line">    mov ax,offset int0</span><br><span class="line">    mov es:[si],ax</span><br><span class="line">    mov ax,seg int0</span><br><span class="line">    mov es:[si+2],ax</span><br><span class="line">    mov ax,@data</span><br><span class="line">    mov ds,ax</span><br><span class="line">    mov al,00010011b  ;  init  8259</span><br><span class="line">    mov dx,210h</span><br><span class="line">    out dx,al         ; ICW1</span><br><span class="line">    mov al,60h</span><br><span class="line">    mov dx,212h</span><br><span class="line">    out dx,al         ; ICW2</span><br><span class="line">    mov ax,00000001h</span><br><span class="line">    out dx,al         ; ICW4</span><br><span class="line">    mov ax,0</span><br><span class="line">    out dx,al         ; OCW1</span><br><span class="line">    sti</span><br><span class="line">    jmp $</span><br><span class="line">int0  proc</span><br><span class="line">    push ax</span><br><span class="line">    push dx</span><br><span class="line">    push ds</span><br><span class="line">    mov ax,@data</span><br><span class="line">    mov ds,ax   </span><br><span class="line">    mov ax,0</span><br><span class="line">    mov al, come     ; 中断到来，计数器+1</span><br><span class="line">    inc al</span><br><span class="line">    mov come, al</span><br><span class="line">    mov al,20h       ; 发EOI命令</span><br><span class="line">    mov dx,210h</span><br><span class="line">    out dx,al</span><br><span class="line">    pop ds</span><br><span class="line">    pop dx</span><br><span class="line">    pop ax</span><br><span class="line">    iret</span><br><span class="line">int0 endp</span><br><span class="line">END start</span><br></pre></td></tr></table></figure>
<h2 id="三、运行结果贴图（执行三次中断，每次中断后的8086寄存器的截图）"><a href="#三、运行结果贴图（执行三次中断，每次中断后的8086寄存器的截图）" class="headerlink" title="三、运行结果贴图（执行三次中断，每次中断后的8086寄存器的截图）"></a>三、运行结果贴图（执行三次中断，每次中断后的8086寄存器的截图）</h2><p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/2.1.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/2.2.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/2.3.png" alt=""></p>
<h1 id="实验三-可编程定时器计数器8253"><a href="#实验三-可编程定时器计数器8253" class="headerlink" title="实验三    可编程定时器计数器8253"></a>实验三    可编程定时器计数器8253</h1><h2 id="一、实验目的-2"><a href="#一、实验目的-2" class="headerlink" title="一、实验目的"></a>一、实验目的</h2><p>​    掌握8253的基本工作原理、编程方法及其应用。</p>
<h2 id="二、实验内容-2"><a href="#二、实验内容-2" class="headerlink" title="二、实验内容"></a>二、实验内容</h2><h3 id="一）-研究定时计数器（选）"><a href="#一）-研究定时计数器（选）" class="headerlink" title="一） 研究定时计数器（选）"></a>一） 研究定时计数器（选）</h3><h4 id="1）源程序-1"><a href="#1）源程序-1" class="headerlink" title="1）源程序"></a>1）源程序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.8086</span><br><span class="line">.MODEL SMALL</span><br><span class="line">.STACK</span><br><span class="line">.DATA</span><br><span class="line">.CODE</span><br><span class="line">START:</span><br><span class="line">    MOV AL,00010001B; 使用计数器0，只写低八位，模式0，BCD码</span><br><span class="line">    MOV DX,226H</span><br><span class="line">    OUT DX,AL</span><br><span class="line">    MOV AL,10H</span><br><span class="line">    MOV DX,220H</span><br><span class="line">    OUT DX,AL</span><br><span class="line">END START</span><br></pre></td></tr></table></figure>
<h4 id="2）讨论题"><a href="#2）讨论题" class="headerlink" title="2）讨论题"></a>2）讨论题</h4><p>​    如果把方式0改成方式1，电路不动，则按下BUTTON后，计数器值会否减1？为什么？</p>
<ul>
<li>不会，因为模式一计数是从gate处于上升沿时开始，而这里gate连接电源，始终保持高电平，不会出现上升沿。</li>
</ul>
<h4 id="3）接线原理图和运行结果图"><a href="#3）接线原理图和运行结果图" class="headerlink" title="3）接线原理图和运行结果图"></a>3）接线原理图和运行结果图</h4><p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/3.1.png" alt=""></p>
<h3 id="二）信号发生器"><a href="#二）信号发生器" class="headerlink" title="二）信号发生器"></a>二）信号发生器</h3><h4 id="1）源程序-2"><a href="#1）源程序-2" class="headerlink" title="1）源程序"></a>1）源程序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">.8086</span><br><span class="line">.MODEL SMALL</span><br><span class="line">.STACK</span><br><span class="line">.DATA</span><br><span class="line">.CODE</span><br><span class="line">START:</span><br><span class="line">    MOV AL,00110111B; 使用计数器0，先写低八位，后写高八位，使用模式三，BCD码</span><br><span class="line">    MOV DX,226H</span><br><span class="line">    OUT DX,AL</span><br><span class="line">    MOV AX,1000H</span><br><span class="line">    MOV DX,220H</span><br><span class="line">    OUT DX,AL</span><br><span class="line">    MOV AL,AH</span><br><span class="line">    OUT DX,AL; 计数器初始值为1000</span><br><span class="line">    </span><br><span class="line">    MOV AL,01110111B; 使用计数器1，先写低八位，后写高八位，使用模式三，BCD码</span><br><span class="line">    MOV DX,226H</span><br><span class="line">    OUT DX,AL</span><br><span class="line">    MOV AX,1000H</span><br><span class="line">    MOV DX,222H</span><br><span class="line">    OUT DX,AL</span><br><span class="line">    MOV AL,AH</span><br><span class="line">    OUT DX,AL; 计数器初始值为1000</span><br><span class="line">    </span><br><span class="line">    MOV AL,10010111B; 使用计数器2，只使用低八位，使用模式三，BCD码</span><br><span class="line">    MOV DX,226H</span><br><span class="line">    OUT DX,AL</span><br><span class="line">    MOV AL,5H</span><br><span class="line">    MOV DX,224H</span><br><span class="line">    OUT DX,AL; 计数器初始值为5</span><br><span class="line">END START</span><br></pre></td></tr></table></figure>
<h4 id="2）接线原理图"><a href="#2）接线原理图" class="headerlink" title="2）接线原理图"></a>2）接线原理图</h4><p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/3.3.png" alt=""></p>
<h4 id="3）运行结果图"><a href="#3）运行结果图" class="headerlink" title="3）运行结果图"></a>3）运行结果图</h4><p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/3.2.png" alt=""></p>
<h4 id="4）编程与调试心得（遇到的问题和解决的办法，以及获得的收获）"><a href="#4）编程与调试心得（遇到的问题和解决的办法，以及获得的收获）" class="headerlink" title="4）编程与调试心得（遇到的问题和解决的办法，以及获得的收获）"></a>4）编程与调试心得（遇到的问题和解决的办法，以及获得的收获）</h4><p>​    对于OUT2口的波形如果不取反的话就会得到占空比为3:5的方波。</p>
<h1 id="实验五-七段数码管实验"><a href="#实验五-七段数码管实验" class="headerlink" title="实验五    七段数码管实验"></a>实验五    七段数码管实验</h1><h2 id="一、实验目的-3"><a href="#一、实验目的-3" class="headerlink" title="一、实验目的"></a>一、实验目的</h2><p>​    掌握数码管显示数字的原理，进一步复习8255的应用。</p>
<h2 id="二、实验内容-3"><a href="#二、实验内容-3" class="headerlink" title="二、实验内容"></a>二、实验内容</h2><h3 id="1-静态显示（选）"><a href="#1-静态显示（选）" class="headerlink" title="1.静态显示（选）"></a>1.静态显示（选）</h3><h4 id="1）源程序-3"><a href="#1）源程序-3" class="headerlink" title="1）源程序"></a>1）源程序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">.8086</span><br><span class="line">.MODEL SMALL</span><br><span class="line">.STACK</span><br><span class="line">.DATA</span><br><span class="line">	ARR BYTE 3FH,06H,5BH,4FH,66H,6DH,7DH,07H,7FH,6FH,77H,7CH,39H,5EH,79H,71H</span><br><span class="line">.CODE</span><br><span class="line">START:</span><br><span class="line">	MOV AX,@DATA</span><br><span class="line">	MOV DS,AX</span><br><span class="line">	MOV AL,10000001B; A组模式0，A口和C口高四位为输出。B组模式0，B口为输出，C口低四位为输入。</span><br><span class="line">	MOV DX,206H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	MOV DX,204H</span><br><span class="line">	IN AL,DX</span><br><span class="line">	NOT AL</span><br><span class="line">	MOV AH,0H</span><br><span class="line">	MOV DL,16</span><br><span class="line">	DIV DL</span><br><span class="line">	MOV AL,AH</span><br><span class="line">	MOV AH,0H</span><br><span class="line">	MOV BX,AX</span><br><span class="line">	LEA DI,ARR</span><br><span class="line">	MOV AL,[DI+BX]</span><br><span class="line">	MOV DX,200H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	JMP $</span><br><span class="line">END START</span><br></pre></td></tr></table></figure>
<h4 id="2）接线原理图和运行结果图"><a href="#2）接线原理图和运行结果图" class="headerlink" title="2）接线原理图和运行结果图"></a>2）接线原理图和运行结果图</h4><p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/5.1.png" alt=""></p>
<h3 id="2-动态展示"><a href="#2-动态展示" class="headerlink" title="2.动态展示"></a>2.动态展示</h3><h4 id="1）源程序-4"><a href="#1）源程序-4" class="headerlink" title="1）源程序"></a>1）源程序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">.8086</span><br><span class="line">.MODEL SMALL</span><br><span class="line">.STACK</span><br><span class="line">.DATA</span><br><span class="line">	ARR BYTE 3FH,06H,5BH,4FH,66H,6DH,7DH,07H,7FH,6FH,77H,7CH,39H,5EH,79H,71H</span><br><span class="line">.CODE</span><br><span class="line">START:</span><br><span class="line">	MOV AX,@DATA</span><br><span class="line">	MOV DS,AX</span><br><span class="line">	MOV AL,10001001B</span><br><span class="line">	MOV DX,206H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	LEA DI,ARR</span><br><span class="line">LP:</span><br><span class="line">	MOV DX,204H</span><br><span class="line">	IN AL,DX</span><br><span class="line">	NOT AL</span><br><span class="line">	MOV AH,0</span><br><span class="line">	MOV DL,16</span><br><span class="line">	DIV DL</span><br><span class="line">	MOV SI,AX</span><br><span class="line">	MOV AL,01H</span><br><span class="line">	MOV DX,202H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	MOV BX,SI</span><br><span class="line">	MOV BH,0</span><br><span class="line">	MOV DX,200H</span><br><span class="line">	MOV AL,[DI+BX]</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	MOV CX,64H</span><br><span class="line">	LOOP $</span><br><span class="line">	MOV AL,02H</span><br><span class="line">	MOV DX,202H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	MOV BX,SI</span><br><span class="line">	MOV BL,BH</span><br><span class="line">	MOV BH,0</span><br><span class="line">	MOV DX,200H</span><br><span class="line">	MOV AL,[DI+BX]</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	MOV CX,64H</span><br><span class="line">	LOOP $</span><br><span class="line">	JMP LP</span><br><span class="line">END START</span><br></pre></td></tr></table></figure>
<h4 id="2）接线原理图和运行结果图-1"><a href="#2）接线原理图和运行结果图-1" class="headerlink" title="2）接线原理图和运行结果图"></a>2）接线原理图和运行结果图</h4><p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/5.2.png" alt=""></p>
<h4 id="3）编程与调试心得（遇到的问题和解决的办法，以及获得的收获）"><a href="#3）编程与调试心得（遇到的问题和解决的办法，以及获得的收获）" class="headerlink" title="3）编程与调试心得（遇到的问题和解决的办法，以及获得的收获）"></a>3）编程与调试心得（遇到的问题和解决的办法，以及获得的收获）</h4><p>​    刚开始只有一个数字有显示，后来才想到通过PB0/1片选高位还是低位亮。其实是高位和低位交替亮。这个实验让我对8255的使用有了更深的体会。</p>
<h1 id="实验六-交通灯控制实验"><a href="#实验六-交通灯控制实验" class="headerlink" title="实验六    交通灯控制实验"></a>实验六    交通灯控制实验</h1><h2 id="一、实验目的-4"><a href="#一、实验目的-4" class="headerlink" title="一、实验目的"></a>一、实验目的</h2><p>​    通过并行接口8255实现十字路口交通灯的模拟控制,进一步掌握对并行口的使用和中断的使用。</p>
<h2 id="二、交通灯变化规律"><a href="#二、交通灯变化规律" class="headerlink" title="二、交通灯变化规律"></a>二、交通灯变化规律</h2><p>十字路口交通灯的变化规律要求</p>
<p>1） 南北路口的绿灯、东西路口的红灯同时亮10秒，然后</p>
<p>2） 南北路口的黄灯闪烁2次（闪烁周期2秒），同时东西路口的红灯继续亮，然后</p>
<p>3） 南北路口的红灯、东西路口的绿灯同时亮10秒，然后</p>
<p>4） 南北路口的红灯继续亮，同时东西路口的黄灯2次（闪烁周期2秒），然后</p>
<p>5） 转1重复。</p>
<h2 id="三、实验内容"><a href="#三、实验内容" class="headerlink" title="三、实验内容"></a>三、实验内容</h2><p>​    红黄绿三色交通灯控制。将接口实验包中所带的EX-825X-1.DSN文件用ISIS 7打开，将D6、D5、D4作为南北路口的交通灯与PA7、PA6、PA5相连；D3、D2、D1作为东西路口的交通灯与PA2、PA1、PA0相连(方式0)。利用8253产生1秒的中断信号(系统已经为CLK0提供了一个1MHz的时钟输入)，在中断处理程序中用程序处理10秒延迟和两次黄灯闪烁的问题。编程使六个灯按交通灯变化规律燃灭。</p>
<h3 id="1）源程序-5"><a href="#1）源程序-5" class="headerlink" title="1）源程序"></a>1）源程序</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"> .8086</span><br><span class="line">.MODEL SMALL</span><br><span class="line">.STACK</span><br><span class="line">.DATA</span><br><span class="line">	COUNT BYTE 0H</span><br><span class="line">.CODE</span><br><span class="line">START:</span><br><span class="line">	MOV AX,@DATA</span><br><span class="line">	MOV DS,AX</span><br><span class="line">	MOV DX,226H</span><br><span class="line">	MOV AL,00110111B</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	MOV AX,1000H</span><br><span class="line">	MOV DX,220H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	MOV AL,AH</span><br><span class="line">	OUT DX,AL  ;C0</span><br><span class="line">	MOV DX,226H</span><br><span class="line">	MOV AL,01110111B</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	MOV AX,1000H</span><br><span class="line">	MOV DX,222H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	MOV AL,AH</span><br><span class="line">	OUT DX,AL  ;C1</span><br><span class="line">	MOV AL,10000000B</span><br><span class="line">	MOV DX,206H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	MOV AL,10000001B</span><br><span class="line">	MOV DX,200H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	CLI</span><br><span class="line">	MOV AX,0</span><br><span class="line">	MOV ES,AX</span><br><span class="line">	MOV SI,0</span><br><span class="line">	MOV CX,255</span><br><span class="line">L:  MOV AX,OFFSET INT0</span><br><span class="line">	MOV ES:[SI],AX</span><br><span class="line">	MOV AX, SEG INT0</span><br><span class="line">	MOV ES:[SI+2],AX</span><br><span class="line">	ADD SI,4</span><br><span class="line">	LOOP L</span><br><span class="line">	MOV AX,OFFSET INT0</span><br><span class="line">	MOV ES:[SI],AX</span><br><span class="line">	MOV AX,SEG INT0</span><br><span class="line">	MOV ES:[SI+2],AX</span><br><span class="line">	MOV AX,@DATA</span><br><span class="line">	MOV DS,AX </span><br><span class="line">	STI</span><br><span class="line">	MOV AL,00010011B  ;  INIT  8259</span><br><span class="line">	MOV DX,210H</span><br><span class="line">	OUT DX,AL         ; ICW1</span><br><span class="line">	MOV AL,00001000B</span><br><span class="line">	MOV DX,212H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	MOV AL,01H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	JMP $</span><br><span class="line">	INT0 PROC</span><br><span class="line">	PUSH SI</span><br><span class="line">	PUSH AX</span><br><span class="line">	PUSH DX</span><br><span class="line">	PUSH DS</span><br><span class="line">	MOV AX,@DATA</span><br><span class="line">	MOV DS,AX</span><br><span class="line">	MOV AL,COUNT</span><br><span class="line">	INC AL</span><br><span class="line">	MOV COUNT,AL</span><br><span class="line">	CMP AL,10</span><br><span class="line">	JZ DO1</span><br><span class="line">	CMP AL,11</span><br><span class="line">	JZ DO2</span><br><span class="line">	CMP AL,12</span><br><span class="line">	JZ DO1</span><br><span class="line">	CMP AL,13</span><br><span class="line">	JZ DO2</span><br><span class="line">	CMP AL,14</span><br><span class="line">	JZ DO3</span><br><span class="line">	CMP AL,24</span><br><span class="line">	JZ DO4</span><br><span class="line">	CMP AL,25</span><br><span class="line">	JZ DO5</span><br><span class="line">	CMP AL,26</span><br><span class="line">	JZ DO4</span><br><span class="line">	CMP AL,27</span><br><span class="line">	JZ DO5</span><br><span class="line">	CMP AL,28</span><br><span class="line">	JZ DO6</span><br><span class="line">	JMP EXIT</span><br><span class="line">DO6:</span><br><span class="line">	MOV AL,10000001B ;左绿右红</span><br><span class="line">	MOV DX,200H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	MOV AL,0</span><br><span class="line">	MOV COUNT,AL</span><br><span class="line">	JMP EXIT</span><br><span class="line">DO1:</span><br><span class="line">	MOV AL,01000001B ;左黄灯亮</span><br><span class="line">	MOV DX,200H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	JMP EXIT</span><br><span class="line">DO2:</span><br><span class="line">	MOV AL,00000001B ;左黄灯暗</span><br><span class="line">	MOV DX,200H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	JMP EXIT</span><br><span class="line">DO3:</span><br><span class="line">	MOV AL,00100100B ;左红右绿</span><br><span class="line">	MOV DX,200H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	JMP EXIT</span><br><span class="line">DO4:</span><br><span class="line">	MOV AL,00100010B;右黄灯亮</span><br><span class="line">	MOV DX,200H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	JMP EXIT</span><br><span class="line">DO5:</span><br><span class="line">	MOV AL,00100000B ;右黄灯暗</span><br><span class="line">	MOV DX,200H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	JMP EXIT</span><br><span class="line">EXIT:</span><br><span class="line">	MOV AL,20H</span><br><span class="line">	MOV DX,210H</span><br><span class="line">	OUT DX,AL</span><br><span class="line">	POP DS</span><br><span class="line">	POP DX</span><br><span class="line">	POP AX</span><br><span class="line">	POP SI</span><br><span class="line">	IRET</span><br><span class="line">	INT0 ENDP</span><br><span class="line">END START</span><br></pre></td></tr></table></figure>
<h3 id="2）接线原理图-1"><a href="#2）接线原理图-1" class="headerlink" title="2）接线原理图"></a>2）接线原理图</h3><p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/6.1.png" alt=""></p>
<h3 id="3）运行结果截图"><a href="#3）运行结果截图" class="headerlink" title="3）运行结果截图"></a>3）运行结果截图</h3><p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/6.2.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/6.4.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/master/IO/6.3.png" alt=""></p>
<h3 id="4）编程与调试心得（遇到的问题和解决的办法，以及获得的收获）-1"><a href="#4）编程与调试心得（遇到的问题和解决的办法，以及获得的收获）-1" class="headerlink" title="4）编程与调试心得（遇到的问题和解决的办法，以及获得的收获）"></a>4）编程与调试心得（遇到的问题和解决的办法，以及获得的收获）</h3><p>​    循环很多，一不小心就会写错。如何让黄灯闪烁也想了很久。</p>
</p></div><div class="share"><span>分享到</span>&nbsp;<span class="soc"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></span><span class="soc"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></span><span class="soc"><a href="http://twitter.com/home?status=http://SEULinuxClub.github.io/2017/06/03/计算机输入输出系统接口实验报告/%20东南大学Linux俱乐部%20计算机输入输出系统接口实验报告" class="fa fa-twitter"></a></span></div><div class="pagination"><p class="clearfix"><span class="pre pagbuttons"><a role="navigation" href="/2017/06/03/使用阿里云服务器搭建PPTP协议的VPN/" title="使用阿里云服务器搭建PPTP协议的VPN"><i class="fa fa-angle-double-left"></i>&nbsp;上一篇: 使用阿里云服务器搭建PPTP协议的VPN</a></span><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/2017/06/03/计算机输入输出系统汇编实验报告/" title="计算机输入输出系统汇编实验报告">下一篇: 计算机输入输出系统汇编实验报告&nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNjY3Ny8xMzIxMg=="><script type="text/javascript">(function (d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') {
        return;
    }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script><noscript> Please activate JavaScript for write a comment in LiveRe</noscript></div></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2018&nbsp;<a target="_blank" href="http://SEULinuxClub.github.io" rel="noopener noreferrer">SEU Linux Club</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script></body></html>