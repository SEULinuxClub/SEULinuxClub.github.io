<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="SEU Linux Club"><title>使用Docker和Cloud9搭建Web端IDE · 东南大学Linux俱乐部</title><meta name="description" content="Docker简介
1.安装Docker
直接安装即可sudo apt install docker.io
将当前用户加入到docker组里，可以免去每次都要输入sudo:sudo usermod -a -G docker currentUser

2.Docker服务
启动Docker服务sudo "><meta name="keywords" content="Linux &amp; More"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div id="stage" class="container"><div class="row"><div id="side-bar" class="col-sm-3 col-xs-12 side-container invisible"><div class="vertical-text site-title"><h3 tabindex="-1" class="site-title-small"><a href="/" class="a-title">Club Blog</a></h3><h1 tabindex="-1" class="site-title-large"><a href="/" class="a-title">SEU LINUX Blog</a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div id="site-nav" class="site-title-links"><ul><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li><li><a href="/tags">标签</a></li><li class="soc"><a href="https://github.com/SEULinuxClub" target="_blank" rel="noopener noreferrer"><i class="fa fa-github">&nbsp;</i></a><a href="http://SEULinuxClub.github.io/atom.xml" target="_blank" rel="noopener noreferrer"><i class="fa fa-rss">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2018&nbsp;<a target="_blank" href="http://SEULinuxClub.github.io" rel="noopener noreferrer">SEU Linux Club</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div><div id="main-container" class="col-sm-9 col-xs-12 main-container invisible"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a>使用Docker和Cloud9搭建Web端IDE</a></p><p class="post-meta"><span class="date meta-item">发布于&nbsp;2017-08-24</span><span class="meta-item"><i class="fa fa-tag"></i><span>&nbsp;</span><a href="/tags/Docker/" title="Docker" class="a-tag">Docker</a><span>&nbsp;</span></span></p><p class="post-abstract"><p> Docker简介</p>
<h2 id="1-安装Docker"><a href="#1-安装Docker" class="headerlink" title="1.安装Docker"></a>1.安装Docker</h2><ul>
<li>直接安装即可<code>sudo apt install docker.io</code></li>
<li>将当前用户加入到docker组里，可以免去每次都要输入sudo:<code>sudo usermod -a -G docker currentUser</code></li>
</ul>
<h2 id="2-Docker服务"><a href="#2-Docker服务" class="headerlink" title="2.Docker服务"></a>2.Docker服务</h2><ol>
<li>启动Docker服务<code>sudo service docker start</code></li>
<li>停止Docker服务<code>sudo service docker stop</code></li>
<li>重启Docker服务<code>sudo service docker restart</code></li>
<li>查看Docker服务状态<code>sudo service docker status</code></li>
</ol>
<h2 id="3-Docker命令"><a href="#3-Docker命令" class="headerlink" title="3.Docker命令"></a>3.Docker命令</h2><p>Commands:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">attach    Attach to a running container</span><br><span class="line">build     Build an image from a Dockerfile</span><br><span class="line">commit    Create a new image from a container&apos;s changes</span><br><span class="line">cp        Copy files/folders between a container and the local filesystem</span><br><span class="line">create    Create a new container</span><br><span class="line">diff      Inspect changes on a container&apos;s filesystem</span><br><span class="line">events    Get real time events from the server</span><br><span class="line">exec      Run a command in a running container</span><br><span class="line">export    Export a container&apos;s filesystem as a tar archive</span><br><span class="line">history   Show the history of an image</span><br><span class="line">images    List images</span><br><span class="line">import    Import the contents from a tarball to create a filesystem image</span><br><span class="line">info      Display system-wide information</span><br><span class="line">inspect   Return low-level information on a container, image or task</span><br><span class="line">kill      Kill one or more running containers</span><br><span class="line">load      Load an image from a tar archive or STDIN</span><br><span class="line">login     Log in to a Docker registry.</span><br><span class="line">logout    Log out from a Docker registry.</span><br><span class="line">logs      Fetch the logs of a container</span><br><span class="line">network   Manage Docker networks</span><br><span class="line">node      Manage Docker Swarm nodes</span><br><span class="line">pause     Pause all processes within one or more containers</span><br><span class="line">port      List port mappings or a specific mapping for the container</span><br><span class="line">ps        List containers</span><br><span class="line">pull      Pull an image or a repository from a registry</span><br><span class="line">push      Push an image or a repository to a registry</span><br><span class="line">rename    Rename a container</span><br><span class="line">restart   Restart a container</span><br><span class="line">rm        Remove one or more containers</span><br><span class="line">rmi       Remove one or more images</span><br><span class="line">run       Run a command in a new container</span><br><span class="line">save      Save one or more images to a tar archive (streamed to STDOUT by default)</span><br><span class="line">search    Search the Docker Hub for images</span><br><span class="line">service   Manage Docker services</span><br><span class="line">start     Start one or more stopped containers</span><br><span class="line">stats     Display a live stream of container(s) resource usage statistics</span><br><span class="line">stop      Stop one or more running containers</span><br><span class="line">swarm     Manage Docker Swarm</span><br><span class="line">tag       Tag an image into a repository</span><br><span class="line">top       Display the running processes of a container</span><br><span class="line">unpause   Unpause all processes within one or more containers</span><br><span class="line">update    Update configuration of one or more containers</span><br><span class="line">version   Show the Docker version information</span><br><span class="line">volume    Manage Docker volumes</span><br><span class="line">wait      Block until a container stops, then print its exit code</span><br></pre></td></tr></table></figure>
<h2 id="4-Docker实例-Cloud9-Web-IDE"><a href="#4-Docker实例-Cloud9-Web-IDE" class="headerlink" title="4.Docker实例-Cloud9 Web IDE"></a>4.Docker实例-Cloud9 Web IDE</h2><ul>
<li>我偶然从YouTube上一个视频里得知有个叫Cloud9的Web端的IDE，于是想要注册试试，结果注册需要信用卡。。。然而我并没有信用卡，所以也就没有注册。</li>
<li>后来我发现Cloud9是开源的，结合Cloud9的特点，我考虑到可以用Docker来制作装有Cloud9的定制Ubuntu镜像，然后大量创建容器来推广使用。</li>
</ul>
<h3 id="1-什么是Docker？"><a href="#1-什么是Docker？" class="headerlink" title="(1)什么是Docker？"></a>(1)什么是Docker？</h3><ul>
<li>Docker是一个开源的引擎，可以轻松的为任何应用创建一个轻量级的、可移植的、自给自足的容器。开发者在笔记本上编译测试通过的容器可以批量地在生产环境中部署。</li>
</ul>
<p><img src="https://raw.githubusercontent.com/ZizhuoWang/ImageBed/network/docker.jpeg" alt=""></p>
<ul>
<li>这条鲸鱼就是Docker的标志，鲸鱼代表着Docker层，而鲸鱼身上的集装箱就是由Docker镜像产生的容器。集装箱里的东西不会随着船的改变而改变，这也是Docker的开发者们想要做的事情，就是让容器里的内容忽略底层系统的变化。</li>
<li>Docker可以解决虚拟机能够解决的问题，同时也能够解决虚拟机由于资源要求过高而无法解决的问题。Docker能处理的事情包括：<ol>
<li>隔离应用依赖：比如一个应用需要Apache和MySQL，这两个程序就可以运行在两个不同的容器中。</li>
<li>创建应用镜像并进行复制</li>
<li>创建容易分发的即启即用的应用</li>
<li>允许实例简单、快速地扩展</li>
<li>测试应用并随后销毁它们</li>
</ol>
</li>
</ul>
<h3 id="2-Docker重要概念"><a href="#2-Docker重要概念" class="headerlink" title="(2)Docker重要概念"></a>(2)Docker重要概念</h3><p>1.镜像</p>
<ul>
<li>Docker里的镜像类似于虚拟机的快照，但是更加轻量</li>
<li>自制镜像一般基于已有镜像创建，创建镜像的方式有两种：<ol>
<li>在一个文件中指定一个基础镜像及需要完成的修改</li>
<li>通过“运行”一个镜像，对其进行修改并提交。</li>
</ol>
</li>
<li>第一种构建方法要写Dockerfile，优点是可以进行版本控制，缺点是门槛较高。</li>
<li>第二种方法直接从修改好的镜像<code>docker commit</code>，优点是易于使用，缺点是不好进行版本控制。</li>
</ul>
<p>2.容器</p>
<ul>
<li>以镜像为基础创建容器就好比从快照中创建虚拟机</li>
<li>容器与虚拟机一样是隔离的</li>
</ul>
<p>3.数据卷</p>
<ul>
<li>数据卷让你可以不受容器生命周期影响进行数据持久化。它们表现为容器内的空间，但实际保存在容器之外，从而允许你在不影响数据的情况下销毁、重建、修改、丢弃容器。</li>
<li>Docker允许你定义应用部分和数据部分，并提供工具让你可以将它们分开。</li>
<li>使用Docker时必须做出的最大思维变化之一就是：容器应该是短暂和一次性的。</li>
</ul>
<p>4.链接</p>
<ul>
<li>容器启动时，将被分配一个随机的私有IP，其它容器可以使用这个IP地址与其进行通讯。<ol>
<li>它提供了容器间相互通信的渠道。</li>
<li>容器将共享一个本地网络。</li>
</ol>
</li>
<li>要开启容器间通讯，Docker允许你在创建一个新容器时引用其它现存容器，在你刚创建的容器里被引用的容器将获得一个（你指定的）别名。我们就说，这两个容器链接在了一起。</li>
<li>Docker要求你声明容器在被链接时要开放哪些端口给其他容器，否则将没有端口可用。</li>
</ul>
<h3 id="3-搭建第一步–准备镜像"><a href="#3-搭建第一步–准备镜像" class="headerlink" title="(3)搭建第一步–准备镜像"></a>(3)搭建第一步–准备镜像</h3><ul>
<li>首先我们准备一个Ubuntu镜像来作为基础镜像<code>docker pull ubuntu</code></li>
<li>然后查看一下我们现在有哪些镜像<code>docker images</code></li>
<li>依据Ubuntu镜像创建一个容器<code>docker run -it ubuntu bash</code> ，其中<code>i</code>选项代表交互式<code>interactive</code>，<code>t</code>选项代表生成模拟终端<code>tty</code></li>
<li>先进行一次<code>apt update</code></li>
<li>然后安装nano和bash-completion，虽然是root用户，但是有一些应用没有sudo安装不了，所以也要安装sudo：<code>apt install nano bash-completion sudo</code></li>
<li>应用补全功能：<code>nano /etc/bash.bashrc</code>注释掉相应行之后<code>Ctrl+D</code>注销</li>
<li>看看现在有哪些容器：<code>docker ps -a</code></li>
<li>再次启动容器：<code>docker start -i 容器名</code></li>
<li>安装nodejs：先安装<code>curl</code>： <code>apt install curl</code> , <code>curl -sL https://deb.nodesource.com/setup_6.x | sudo -E bash -</code>然后<code>apt install nodejs</code></li>
<li>再安装Cloud9所需的依赖：<code>apt install tmux python2.7 git</code>以及<code>npm install nak</code></li>
<li>最后安装Cloud9：<code>git clone git://github.com/c9/core.git c9sdk</code>,<code>cd c9sdk</code>,<code>npm install</code></li>
<li>本地打开Cloud9，它还要安装依赖<code>node server.js --listen 0.0.0.0 --port 9711 --auth wang:wang</code></li>
<li>生成镜像：<code>docker commit 容器名 想要的镜像名</code></li>
</ul>
<h3 id="4-搭建第二步–产生容器"><a href="#4-搭建第二步–产生容器" class="headerlink" title="(4)搭建第二步–产生容器"></a>(4)搭建第二步–产生容器</h3><ul>
<li>docker run 的-p选项格式是<code>[ip:]hostport:dockerport</code>,所以 <code>docker run -it -p 9711:9711 镜像名</code></li>
<li>进入容器后<code>cd /root/c9sdk</code>然后<code>node server.js --listen 0.0.0.0 --port 9711 --auth wang:wang</code></li>
<li>访问<code>localhost:9711</code></li>
</ul>
</p></div><div class="share"><span>分享到</span>&nbsp;<span class="soc"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></span><span class="soc"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></span><span class="soc"><a href="http://twitter.com/home?status=http://SEULinuxClub.github.io/2017/08/24/使用Docker和Cloud9搭建Web端IDE/%20东南大学Linux俱乐部%20使用Docker和Cloud9搭建Web端IDE" class="fa fa-twitter"></a></span></div><div class="pagination"><p class="clearfix"><span class="pre pagbuttons"><a role="navigation" href="/2017/09/01/社会实践个人小结/" title="社会实践个人小结"><i class="fa fa-angle-double-left"></i>&nbsp;上一篇: 社会实践个人小结</a></span><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/2017/08/24/Storm简介/" title="Storm简介">下一篇: Storm简介&nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNjY3Ny8xMzIxMg=="><script type="text/javascript">(function (d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') {
        return;
    }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script><noscript> Please activate JavaScript for write a comment in LiveRe</noscript></div></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2018&nbsp;<a target="_blank" href="http://SEULinuxClub.github.io" rel="noopener noreferrer">SEU Linux Club</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script></body></html>